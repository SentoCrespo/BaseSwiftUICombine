# ---------------------------------
# Domain Test target
# ---------------------------------

targets: 
  PlatformNetworkLayerSpecificTests:

    ## Properties
    platform: iOS
    type: bundle.unit-test
    gatherCoverageData: false 

    ## Sources
    sources: 

      ### Target files
      - path: PlatformNetworkLayerSpecific
        includes:
          - Tests
          - "**/*_SPEC*.swift"
        excludes: 
          - Models/Reservation/Reservation+Merge_SPEC.swift

      - path: Domain/Models/Reservation
        includes: 
          - Reservation+Merge_SPEC.swift
        buildPhase: none

    ## Settings
    settings:
      base:
        SDKROOT: iphoneos
        INFOPLIST_FILE: $(SRCROOT)/PlatformNetworkLayerSpecific/Info.plist
        PRODUCT_BUNDLE_IDENTIFIER: com.wunderfleet.platform.networklayer.specific.tests
        USER_HEADER_SEARCH_PATHS: ../CarSharingSpecialisation/ExternSource
        PRODUCT_NAME: PlatformNetworkLayerSpecificTests
        SKIP_INSTALL: YES

    ## Dependencies
    dependencies:

      ### iOS SDKs
      - sdk: Foundation.framework
      - sdk: XCTest.framework
      
      ### Other targets
      - target: SharedUtils
      - target: NetworkLayerRx
      
      ### Local Swift Packages
      - package: NetworkLayer
        product: NetworkLayer
      - package: NetworkLayer
        product: NetworkLayerURLSession
      - package: NetworkLayer
        product: NetworkLayerURLSessionTest
      
      ### Other targets
      - target: PlatformNetworkLayerSpecific
        embed: false
